<html><head><title>dynamics-client: update</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="aappddeevv" /><meta name="description" content="A Microsoft Dynamics CLI swiss-army knife and browser/server library." /><meta name="og:image" content="/dynamics-client/img/poster.png" /><meta name="og:title" content="dynamics-client: update" /><meta name="og:site_name" content="dynamics-client" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="A Microsoft Dynamics CLI swiss-army knife and browser/server library." /><link rel="icon" type="image/png" href="/dynamics-client/img/favicon.png" /><meta name="twitter:title" content="dynamics-client: update" /><meta name="twitter:image" content="img/poster.png" /><meta name="twitter:description" content="A Microsoft Dynamics CLI swiss-army knife and browser/server library." /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/dynamics-client/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/dynamics-client/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/dynamics-client/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/dynamics-client/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/dynamics-client/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/dynamics-client/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/dynamics-client/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/dynamics-client/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/dynamics-client/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/dynamics-client/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/dynamics-client/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/dynamics-client/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/dynamics-client/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/dynamics-client/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/dynamics-client/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/dynamics-client/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/dynamics-client/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/dynamics-client/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/dynamics-client/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/dynamics-client/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/dynamics-client/highlight/styles/default.css" /><link rel="stylesheet" href="/dynamics-client/css/style.css" /><link rel="stylesheet" href="/dynamics-client/css/palette.css" /><link rel="stylesheet" href="/dynamics-client/css/codemirror.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/dynamics-client/" class="brand"><div class="brand-wrapper"><span>dynamics-client</span></div></a></li> <li><a href="/dynamics-client/docs/index.html" class="">Getting Started</a></li> <li><a href="/dynamics-client/docs/actions.html" class="">actions</a></li> <li><a href="/dynamics-client/docs/applications.html" class="">applications</a></li> <li><a href="/dynamics-client/docs/entity.html" class="">entity</a></li> <li><a href="/dynamics-client/docs/importdata.html" class="">importdata</a></li> <li><a href="/dynamics-client/docs/importmaps.html" class="">importmaps</a></li> <li><a href="/dynamics-client/docs/plugins.html" class="">plugins</a></li> <li><a href="/dynamics-client/docs/settings.html" class="">settings</a></li> <li><a href="/dynamics-client/docs/solutions.html" class="">solutions</a></li> <li><a href="/dynamics-client/docs/systemjobs.html" class="">systemjobs</a></li> <li><a href="/dynamics-client/docs/themes.html" class="">themes</a></li> <li><a href="/dynamics-client/docs/update.html" class=" active ">update</a></li> <li><a href="/dynamics-client/docs/users.html" class="">users</a></li> <li><a href="/dynamics-client/docs/webresources.html" class="">webresources</a></li> <li><a href="/dynamics-client/docs/workflows.html" class="">workflows</a></li> <li><a href="/dynamics-client/docs/solutiondeployment.html" class="">Deployment Scripts</a></li> <li><a href="/dynamics-client/docs/examples.html" class="">Example Usage Scenarios</a></li> <li><a href="/dynamics-client/docs/creatingacustomcli.html" class="">Create your own CLI</a></li> <li><a href="/dynamics-client/docs/etl.html" class="">Simple ETL Programs</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/aappddeevv/dynamics-client"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/aappddeevv/dynamics-client"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('dynamics-client A Microsoft Dynamics CLI swiss-army knife and browser/server library.');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('dynamics-client A Microsoft Dynamics CLI swiss-army knife and browser/server library.');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="aappddeevv" data-github-repo="dynamics-client"><div class="content-wrapper"><section><h1 id="update">update</h1>

<p>The <code class="highlighter-rouge">update</code> command allows you to update entities based on an input json
file. You can also perform inserts via the “upsert” concept.</p>

<h2 id="subcommands">Subcommands</h2>
<ul>
  <li>entity: Update records as specified on the command line.</li>
</ul>

<p>This command is designed to process a load ready file. It does not perform
lookups or other transformations. It can add/drop/rename attributes in the json
object. Each json object in the file should be in json streaming format, json
objects separated by newlines.</p>

<p>Let’s say you downloaded reference and key information to your local
database. You might then run a sql command that mergesq the source data with the
key/reference data.</p>

<p>For example, I might need to update the name attribute of my entity and I use
the csv toolkit alot under linux, so:</p>

<div class="language-sh highlighter-rouge"><pre class="highlight"><code>sql2csv--db <span class="nv">$DB</span> update-new_myentity.sql  | csvjson --stream &gt; new_myentity_name_update.json

</code></pre>
</div>

<p>This might produce:</p>
<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="o">{</span> <span class="s2">"new_name"</span>: <span class="s2">"some name"</span>, <span class="s2">"new_myentityid"</span>: <span class="s2">"f0ca7700-fb29-e811-a94f-000d3a324a3e"</span> <span class="o">}</span>
<span class="o">{</span> ... <span class="o">}</span>
<span class="o">{</span> ... <span class="o">}</span>
</code></pre>
</div>

<p>Then you can run:</p>
<div class="language-sh highlighter-rouge"><pre class="highlight"><code><span class="nv">$CLI</span> update entity new_myentitys new_myentitys.json --pk new_myentityid
</code></pre>
</div>

<p>And the update is performed. If you have extra fields in the json that should
not be part of the update for any reason, you can use the <code class="highlighter-rouge">--drops col1,col2</code>
option to remove them.</p>

<p>If you add <code class="highlighter-rouge">--upsertpreventcreate false</code> (the default is true, to prevent
creating a new record) and the record does not exist, it will be inserted. While
this means you need to generate your own guids, this is not hard in practice and
allows you to load data with the same “primary key” as a source system, assuming
they use guids as well.</p>

</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/dynamics-client/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="/dynamics-client/js/main.js"></script></body></html>